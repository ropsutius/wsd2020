<%- include('./partials/header.ejs') %>
<%- include('./partials/navbar.ejs', {isReporting: true}) %>

<script>
const chooseMorning = () => {
  const morning = document.querySelector("#morning_reporting");
  const evening = document.querySelector("#evening_reporting");

  if ((morning.style.display = "none")) {
    morning.style.display = "block";
    evening.style.display = "none";
  }
};

const chooseEvening = () => {
  const morning = document.querySelector("#morning_reporting");
  const evening = document.querySelector("#evening_reporting");

  if ((morning.style.display = "none")) {
    evening.style.display = "block";
    morning.style.display = "none";
  }
};
</script>

<section class="section">
  <div class="block has-text-centered">
    <h1 class="title">Report behavior</h1>
  </div>

  <div class="container has-text-centered" id="morning_reporting" style="display: <%= showMorning ? 'block' : 'none' %>">
    <div class="block has-text-centered">
      <h1 class="title is-4">Report morning behavior</h1>
    </div>
    <div class="columns">
      <div class="column"></div>
      <div class="box column">
        <form action="/behavior/reporting/morning" method="POST">
          <div class="field">
            <label class=label>Date (Default is today): </label>
            <div class="control">
              <input class="input" type="date" name="morning_date" value="<%= morning_date %>">
            </div>
            <%- include('./partials/errors.ejs', { errors: errors, attribute: 'morning_date'}) %>
          </div>

          <div class="field">
            <label class="label">Time slept: </label>
            <div class="control">
              <input class="input" type="number" step="0.1" name="slp_dur" value="<%= sleep_duration %>">
            </div>
            <%- include('./partials/errors.ejs', { errors: errors, attribute: 'sleep_duration'}) %>
          </div>

          <div class="field">
            <div class="control">
              <label class="label">Quality of sleep on a scale of 1-5: </label>
              <label class="radio">
                <input type="radio" value="1" name="slp_qlty" <%= sleep_quality == 1 ? 'checked' : '' %>>
                1
              </label>

              <label class="radio" for="slp2">
                <input type="radio" value="2" name="slp_qlty" <%= sleep_quality == 2 ? 'checked' : '' %>>
                2
              </label>

              <label class="radio" for="slp3">
                <input type="radio" value="3" name="slp_qlty" <%= sleep_quality == 3 ? 'checked' : '' %>>
                3
              </label>

              <label class="radio" for="slp4">
                <input type="radio" value="4" name="slp_qlty" <%= sleep_quality == 4 ? 'checked' : '' %>>
                4
              </label>

              <label class="radio" for="slp5">
                <input type="radio" value="5" name="slp_qlty" <%= sleep_quality == 5 ? 'checked' : '' %>>
                5
              </label>
              <%- include('./partials/errors.ejs', { errors: errors, attribute: 'sleep_quality'}) %>
            </div>
          </div>

          <div class="field">
            <div class="control">
              <label class="label">General mood on a scale of 1-5: </label>
              <label class="radio">
                <input type="radio" value="1" name="morning_mood" <%= morning_mood == 1 ? 'checked' : '' %>>
                1
              </label>
              <label class="radio">
                <input type="radio" value="2" name="morning_mood" <%= morning_mood == 2 ? 'checked' : '' %>>
                2
              </label>
              <label class="radio" for="morning_mood3">
                <input type="radio" value="3" name="morning_mood" <%= morning_mood == 3 ? 'checked' : '' %>>
                3
              </label>
              <label class="radio" for="morning_mood4">
                <input type="radio" value="4" name="morning_mood" <%= morning_mood == 4 ? 'checked' : '' %>>
                4
              </label>
              <label class="radio" for="morning_mood5">
                <input type="radio" value="5" name="morning_mood" <%= morning_mood == 5 ? 'checked' : '' %>>
                5
              </label>
              <%- include('./partials/errors.ejs', { errors: errors, attribute: 'morning_mood'}) %>
            </div>
          </div>
          <div class="field">
            <input class="button is-primary" type="submit" value="Submit morning behavior">
          </div>
        </form>
      </div>
      <div class="column"></div>
    </div>

  </div>

  <div class="container has-text-centered" id="evening_reporting" style="display: <%= showEvening ? 'block' : 'none' %>">
    <div class="block has-text-centered">
      <h1 class="title is-4">Report evening behavior</h1>
    </div>
    <div class="columns">
      <div class="column"></div>
      <div class="box column">
        <form action="/behavior/reporting/evening" method="POST">
          <div class="field">
            <label class="label">Date (Default is today): </label>
            <div class="control">
              <input class="input" type="date" name="evening_date" value="<%= evening_date %>">
            </div>
            <%- include('./partials/errors.ejs', { errors: errors, attribute: 'evening_date'}) %>
          </div>

          <div class="field">
            <label class="label">Time spent on sports and exercise: </label>
            <div class="control">
              <input class="input" type="number" step="0.1" name="time_sport" value="<%= time_sport %>">
            </div>
            <%- include('./partials/errors.ejs', { errors: errors, attribute: 'time_sport'}) %>
          </div>

          <div class="field">
            <label class="label">Time spent studying: </label>
            <div class="control">
              <input class="input" type="number" step="0.1" name="time_study" value="<%= time_study %>">
            </div>
            <%- include('./partials/errors.ejs', { errors: errors, attribute: 'time_study'}) %>
          </div>

          <div class="field">
            <div class="control">
              <label class="label">Regularity and quality of eating on a scale of 1-5: </label>

              <label class="radio">
                <input type="radio" value="1" name="eating" <%= eating == 1 ? 'checked' : '' %>>
                1
              </label>
              <label class="radio">
                <input type="radio" value="2" name="eating" <%= eating == 2 ? 'checked' : '' %>>
                2
              </label>
              <label class="radio">
                <input type="radio" value="3" name="eating" <%= eating == 3 ? 'checked' : '' %>>
                3
              </label>
              <label class="radio">
                <input type="radio" value="4" name="eating" <%= eating == 4 ? 'checked' : '' %>>
                4
              </label>
              <label class="radio">
                <input type="radio" value="5" name="eating" <%= eating == 5 ? 'checked' : '' %>>
                5
              </label>
              <%- include('./partials/errors.ejs', { errors: errors, attribute: 'eating'}) %>
            </div>
          </div>

          <div class="field">
            <div class="control">
              <label class="label">General mood on a scale of 1-5: </label>
              <label class="radio">
                <input type="radio" value="1" name="evening_mood" <%= evening_mood == 1 ? 'checked' : '' %>>
                1
              </label>
              <label class="radio">
                <input type="radio" value="2" name="evening_mood" <%= evening_mood == 2 ? 'checked' : '' %>>
                2
              </label>
              <label class="radio">
                <input type="radio" value="3" name="evening_mood" <%= evening_mood == 3 ? 'checked' : '' %>>
                3
              </label>
              <label class="radio">
                <input type="radio" value="4" name="evening_mood" <%= evening_mood == 4 ? 'checked' : '' %>>
                4
              </label>
              <label class="radio">
                <input type="radio" value="5" name="evening_mood" <%= evening_mood == 5 ? 'checked' : '' %>>
                5
              </label>
              <%- include('./partials/errors.ejs', { errors: errors, attribute: 'evening_mood'}) %>
            </div>
          </div>
          <div class="field">
            <input class="button is-primary" type="submit" value="Submit evening behavior">
          </div>
        </form>
      </div>
      <div class="column"></div>
    </div>
  </div>
</section>

<div class="content has-text-centered">
  <% if (isMorningReport) { %>
    <div class="block">
      <span class="tag is-medium is-warning">
        Behavior for the morning has already been reported. You may change the results by resubmitting the report.
      </span>
    </div>
  <% } %>

  <% if (isEveningReport) { %>
    <span class="tag is-medium is-warning">
      Behavior for the evening has already been reported. You may change the results by resubmitting the report.
    </span>
  <% } %>
</div>



<%- include('./partials/footer.ejs') %>
